var narc={};narc.lightbox_open=!1,$(function(){$(".shape-wrapper .scene").each(function(){var a=Math.floor(20*Math.random())+1;$(this).addClass("animate"+a);var b=Math.floor(360*Math.random()),c=Math.floor(360*Math.random());$(this).css({transform:"rotateX("+b+"deg) rotateY("+c+"deg)"})}),$(".shape").click(function(){narc.open_lightbox("1");var a=$(this).closest(".shape").find("img").clone().addClass("shape"),b=[];b.push.apply(b,a),b=narc.shuffle(b),$(b).appendTo($(".lightbox-content"))}),$(document).on("click",".lightbox-1 img",function(){narc.open_lightbox("2");var a=$(this).attr("data-size-large"),b='<img src="'+a+'">';$(b).appendTo($(".lightbox-2 .lightbox-content"))}),$(document).on("click.close-lightbox",function(a){$(a.target).closest(".shape").length||narc.close_lightbox()}),$(document).keyup(function(a){27==a.keyCode&&narc.close_lightbox()}),narc.forceRedraw()}),narc.open_lightbox=function(a){$("body").addClass("lightbox-open").prepend('<div class="lightbox lightbox-'+a+'"><div class="lightbox-content-wrapper"><div class="lightbox-content"></div></div></div>'),"2"==a&&$("body").addClass("lightbox-2-open")},narc.close_lightbox=function(){$(".lightbox").length?($(".lightbox").first().remove(),$("body").removeClass("lightbox-2-open"),$(".lightbox").length||$("body").removeClass("lightbox-open")):$("body").removeClass("lightbox-open"),console.log("close_lightbox")},narc.isLightboxOpen=function(){return $(".lightbox").length?(narc.lightbox_open=!0,!0):(narc.lightbox_open=!1,!1)},narc.shuffle=function(a){for(var b,c,d=a.length;d;b=parseInt(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a},narc.forceRedraw=function(){$(".shape").css({transform:"scale3d(1, 1, 1)"})};